"use strict";(self.webpackChunktwitter=self.webpackChunktwitter||[]).push([[639],{6639:(U,n,d)=>{d.r(n),d.d(n,{RegisterModule:()=>N});var p=d(9808),o=d(8086),u=d(5767),i=d(1223),f=d(9444),g=d(7896),m=d(193);const h={fieldName:"login-field-name",fieldId:"login-field-id",fieldLabel:"Login",fieldType:"text",isRequired:!0,fieldHaveMask:!1,fieldMask:""},w={fieldName:"name-field-name",fieldId:"name-field-id",fieldLabel:"Name",fieldType:"text",isRequired:!0,fieldHaveMask:!1,fieldMask:""},v={fieldName:"email-field-name",fieldId:"email-field-id",fieldLabel:"Email",fieldType:"text",isRequired:!0,fieldHaveMask:!1,fieldMask:""},F={fieldName:"password-field-name",fieldId:"password-field-id",fieldLabel:"Password",fieldType:"text",isRequired:!0,fieldHaveMask:!1,isPassword:!0,fieldMask:"",showPassword:!1},c={fieldName:"confirm-field-name",fieldId:"confirm-field-id",fieldLabel:"Confirm password",fieldType:"text",isRequired:!0,fieldHaveMask:!1,isPassword:!0,fieldMask:"",showPassword:!1};var R=d(4383),M=d(5187);let k=(()=>{class r{constructor(s,e){this.toastr=s,this.router=e,this.session=new g.z,this.registeredUsers=[],this.user=new m.n,this.loginError={status:!1,message:""},this.confirmPassword="",this.loginField=h,this.nameField=w,this.emailField=v,this.passwordField=F,this.confirmPasswordField=c}ngOnInit(){this.registeredUsers=sessionStorage.registeredUsers?JSON.parse(sessionStorage.registeredUsers):[]}register(){const s=this.registeredUsers.find(l=>(null==l?void 0:l.login.toUpperCase().trim())===`@${this.user.login.toUpperCase().trim()}`),e=this.registeredUsers.find(l=>(null==l?void 0:l.email.toUpperCase().trim())===this.user.email.toUpperCase().trim());this.registeredUsers.length>0?s?this.errorRegister("User already registered with this login."):e?this.errorRegister("User already registered with this email."):this.makeRegisterValidation():this.makeRegisterValidation()}makeRegisterValidation(){this.user.name.length>0?this.checkValidEmail(this.user.email)?this.checkEqualPassword(this.user.password.toUpperCase(),this.confirmPassword.toUpperCase())?this.saveUser():this.errorRegister("Password is not equal."):this.errorRegister("Email is invalid."):this.errorRegister("Name is empty.")}saveUser(){const s=(new m.n).deserialize({name:this.user.name,email:this.user.email.trim(),password:btoa(this.user.password),login:`@${this.user.login}`});this.registeredUsers.push(s),sessionStorage.setItem("registeredUsers",JSON.stringify(this.registeredUsers)),this.router.navigateByUrl("login")}checkEqualPassword(s,e){return s===e}checkValidEmail(s){if(s.includes("@")){let e=s.split("@");return!!(e[1]&&e[1].includes(".")&&e[1].split(".")[1])&&(this.loginError.status=!0,this.loginError.message="",!0)}return!1}errorRegister(s){this.loginError.status=!1,this.loginError.message=s,this.toastr.warning(s,"Atention")}}return r.\u0275fac=function(s){return new(s||r)(i.Y36(R._W),i.Y36(o.F0))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-register-form"]],decls:21,vars:39,consts:[[1,"row","pt-32px","justify-content-center"],[1,"col"],[3,"fieldName","fieldId","fieldLabel","fieldType","isRequired","fieldMask","fieldDropMask","value"],[3,"fieldName","fieldId","fieldLabel","fieldType","isRequired","fieldHaveMask","fieldMask","isPassword","showPassword","value"],[1,"row","pt-24px"],[1,"btn","btn-success",3,"click"],[1,"row","pt-16px"],[1,"col","center"],["routerLink","/login",1,"f-under-line","f-14px","f-white","link"]],template:function(s,e){1&s&&(i.TgZ(0,"div",0)(1,"div",1)(2,"app-text-field",2),i.NdJ("value",function(t){return e.user.login=t}),i.qZA()()(),i.TgZ(3,"div",0)(4,"div",1)(5,"app-text-field",2),i.NdJ("value",function(t){return e.user.name=t}),i.qZA()(),i.TgZ(6,"div",1)(7,"app-text-field",2),i.NdJ("value",function(t){return e.user.email=t}),i.qZA()()(),i.TgZ(8,"div",0)(9,"div",1)(10,"app-text-field",3),i.NdJ("value",function(t){return e.user.password=t}),i.qZA()(),i.TgZ(11,"div",1)(12,"app-text-field",3),i.NdJ("value",function(t){return e.confirmPassword=t}),i.qZA()()(),i.TgZ(13,"div",4)(14,"div",1)(15,"button",5),i.NdJ("click",function(){return e.register()}),i._uU(16," LOGIN "),i.qZA()()(),i.TgZ(17,"div",6)(18,"div",7)(19,"span",8),i._uU(20," Have an account? Make Login. "),i.qZA()()()),2&s&&(i.xp6(2),i.Q6J("fieldName",e.loginField.fieldName)("fieldId",e.loginField.fieldId)("fieldLabel",e.loginField.fieldLabel)("fieldType",e.loginField.fieldType)("isRequired",e.loginField.isRequired)("fieldMask",e.loginField.fieldMask)("fieldDropMask",!0),i.xp6(3),i.Q6J("fieldName",e.nameField.fieldName)("fieldId",e.nameField.fieldId)("fieldLabel",e.nameField.fieldLabel)("fieldType",e.nameField.fieldType)("isRequired",e.nameField.isRequired)("fieldMask",e.nameField.fieldMask)("fieldDropMask",!0),i.xp6(2),i.Q6J("fieldName",e.emailField.fieldName)("fieldId",e.emailField.fieldId)("fieldLabel",e.emailField.fieldLabel)("fieldType",e.emailField.fieldType)("isRequired",e.emailField.isRequired)("fieldMask",e.emailField.fieldMask)("fieldDropMask",!0),i.xp6(3),i.Q6J("fieldName",e.passwordField.fieldName)("fieldId",e.passwordField.fieldId)("fieldLabel",e.passwordField.fieldLabel)("fieldType",e.passwordField.fieldType)("isRequired",e.passwordField.isRequired)("fieldHaveMask",e.passwordField.fieldHaveMask)("fieldMask",e.passwordField.fieldMask)("isPassword",e.passwordField.isPassword)("showPassword",e.passwordField.showPassword),i.xp6(2),i.Q6J("fieldName",e.confirmPasswordField.fieldName)("fieldId",e.confirmPasswordField.fieldId)("fieldLabel",e.confirmPasswordField.fieldLabel)("fieldType",e.confirmPasswordField.fieldType)("isRequired",e.confirmPasswordField.isRequired)("fieldHaveMask",e.confirmPasswordField.fieldHaveMask)("fieldMask",e.confirmPasswordField.fieldMask)("isPassword",e.confirmPasswordField.isPassword)("showPassword",e.confirmPasswordField.showPassword))},directives:[M.a,o.rH],styles:[""]}),r})();const y=[{path:"",component:(()=>{class r{constructor(){this.faTwitter=u.mdU}ngOnInit(){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-register"]],decls:8,vars:1,consts:[[1,"mh-100vh","p-0","m-0"],[1,"row","mh-100vh","align-items-center","justify-content-center","p-0","m-0"],[1,"col-8","p-0","m-0"],[1,"f-white","f-32px"],[1,"f-blue","f-32px","ml-16px",3,"icon"]],template:function(s,e){1&s&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong",3),i._uU(4,"Create your account."),i.qZA(),i._UZ(5,"fa-icon",4)(6,"br")(7,"app-register-form"),i.qZA()()()),2&s&&(i.xp6(5),i.Q6J("icon",e.faTwitter))},directives:[f.BN,k],styles:[""]}),r})()}];let T=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[o.Bz.forChild(y)],o.Bz]}),r})();var P=d(8634);let N=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[p.ez,T,P.x,f.uH]]}),r})()}}]);